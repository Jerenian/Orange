
import { useNavigate } from 'react-router'
import classes from './style.module.scss'
import { useDispatch } from 'react-redux'
import { logOut } from '../../features/userSlice/userSlice'
import { getFavorite } from '../../features/favoriteSlice/favoriteSlice'
import { useEffect } from 'react'
import { useCheckQuery } from '../../services/user'
const User = () => {
    const navigate = useNavigate()
    const dispatch = useDispatch()
    const user: any = useCheckQuery(null)
    const hendleLogOut = () => {
        dispatch(logOut())
        dispatch(getFavorite(null))
        window.location.reload()
        navigate('/')
    }
    useEffect(() => {
    if(user?.data){
        console.log(user?.data)

    } else {
        navigate('/login')
    }
    },[user])


       return (
          <div className={classes.wrapper}>
            <div>
              <div className={classes.container}>
                    <div className={classes.imageContainer}>
                        <svg xmlns="http://www.w3.org/2000/svg" width="80" height="81" viewBox="0 0 80 81" fill="none">
                        <path fillRule="evenodd" clipRule="evenodd" d="M40.2375 34.4933C40.2375 34.4933 38.97 33.4948 37.4312 32.2532C35.8937 31.0129 37.3362 25.9035 29.13 24.3392C25.9062 31.2913 35.1025 31.9001 36.98 32.8885C37.71 33.272 38.6137 33.8846 39.775 34.8616L40.2375 34.4933Z" fill="#59D22D"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M40.2375 34.4933C40.2375 34.4933 38.97 33.4948 37.4313 32.2532C37.2874 32.1332 37.1666 31.9873 37.075 31.8229C36.525 31.7368 35.7125 31.5027 34.515 30.9673C32.44 30.0371 29.92 28.0311 28.4588 26.7857C28.2188 31.4584 35.3513 32.0304 36.98 32.8885C37.71 33.272 38.6138 33.8846 39.775 34.8616L40.2375 34.4933Z" fill="#50BD29"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M39.8062 22.8243L39.67 38.6826L41.48 38.3067L40.6337 22.4028L39.8062 22.8243Z" fill="#59D22D"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M39.8 23.5406L39.7787 26.063C40.0387 26.163 40.3812 26.182 40.8287 26.0655L40.665 22.9875C40.3712 23.0685 40.0687 23.29 39.8 23.5406Z" fill="#50BD29"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M54.5325 42.1149C54.5325 42.1149 50.9075 36.8132 40.5162 36.7322C30.125 36.65 24.8087 42.3592 24.8087 42.3592L54.5325 42.1149Z" fill="#915A3C"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M44.6663 37.0727C43.2936 36.8515 41.9062 36.7372 40.5162 36.731C34.7412 36.6867 30.5362 38.4294 27.9375 39.9861C29.3375 40.5392 31.3062 40.9138 34.0725 40.8911C41.035 40.8341 43.695 38.4813 44.6663 37.0727Z" fill="#A46846"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M22.6012 45.641C22.6012 45.641 25.985 71.5762 28.4013 73.6974C30.8175 75.8173 48.2175 76.3071 50.15 73.6974C52.0837 71.0876 57.4 44.9879 57.4 44.9879L22.6012 45.641Z" fill="#FFAB33"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M25.4125 63.4091C26.385 68.4842 27.465 72.876 28.4012 73.6974C30.8175 75.8173 48.2175 76.3071 50.15 73.6974C52.0837 71.0876 57.4 44.9879 57.4 44.9879L45.8475 45.2056C44.5513 49.4315 40.4 61.0981 33.7187 62.4421C30.7837 63.0319 27.9025 63.3028 25.4125 63.4091Z" fill="#FFA21C"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M26.9963 70.4181C27.48 72.109 27.9563 73.3075 28.4013 73.6961C30.8175 75.8173 48.2175 76.3071 50.15 73.6961C52.0838 71.0876 57.4 44.9879 57.4 44.9879L52.4725 45.0803C52.3588 45.7359 23.125 47.1243 22.935 48.0887C22.9225 48.1558 23.0938 49.21 23.0938 49.21C27.885 49.3746 51.7288 48.9443 51.5875 49.6024C50.0063 56.8899 46.7675 68.3501 41.775 70.108C37.2862 71.6888 31.1438 71.1155 26.9963 70.4181Z" fill="#FF9219"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M22.48 40.6671H57.52C58.4912 40.6697 59.4219 41.0615 60.1086 41.7569C60.7954 42.4522 61.1824 43.3945 61.185 44.3779C61.1824 45.3612 60.7954 46.3035 60.1086 46.9989C59.4219 47.6942 58.4912 48.086 57.52 48.0887H22.48C21.5088 48.086 20.5781 47.6942 19.8914 46.9989C19.2046 46.3035 18.8176 45.3612 18.815 44.3779C18.8176 43.3945 19.2046 42.4522 19.8914 41.7569C20.5781 41.0615 21.5088 40.6697 22.48 40.6671Z" fill="#FF8733"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M53.5825 40.6671H57.52C58.4912 40.6697 59.4219 41.0615 60.1086 41.7569C60.7954 42.4522 61.1824 43.3945 61.185 44.3779C61.1824 45.3612 60.7954 46.3035 60.1086 46.9989C59.4219 47.6942 58.4912 48.086 57.52 48.0887H22.48C21.5088 48.086 20.5781 47.6942 19.8914 46.9989C19.2046 46.3035 18.8176 45.3612 18.815 44.3779H46.9175C49.5925 44.3779 53.0213 44.0159 53.5825 40.6671Z" fill="#FF7A1C"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M60.7625 42.6541C61.0325 43.1692 61.185 43.7552 61.185 44.3779C61.1824 45.3612 60.7954 46.3035 60.1086 46.9989C59.4219 47.6942 58.4912 48.086 57.52 48.0887H22.48C21.7611 48.0866 21.0585 47.8713 20.4592 47.4693C19.8598 47.0674 19.3899 46.4964 19.1075 45.827H53.785C61.3175 45.827 60.7687 42.6857 60.7625 42.6541Z" fill="#FF6E19"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M36.4325 15.2318C36.4325 15.2318 27.9025 12.922 27.6288 17.2644C27.3538 21.6055 33.5588 26.6857 37.1163 18.511C37.1163 18.511 33.3763 26.225 40.2188 25.4846C47.0613 24.7468 42.3175 18.6034 42.3175 18.6034C42.3175 18.6034 47.4363 24.9619 49.3988 18.8186C51.36 12.6765 44.005 13.8928 44.005 13.8928C44.005 13.8928 49.7988 13.2473 48.5213 9.8744C47.2438 6.50277 41.77 2.99319 40.4013 11.5374C40.4013 11.5374 39.535 1.9769 32.92 6.96472C26.3063 11.9526 36.4325 15.2318 36.4325 15.2318Z" fill="#FFBA00"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M37.0325 15.3115C37.0325 15.3115 30.7825 13.6194 30.5812 16.8012C30.3812 19.9817 34.9262 23.7052 37.5337 17.715C37.5337 17.715 34.7925 23.366 39.8062 22.8243C44.8187 22.2826 41.3437 17.782 41.3437 17.782C41.3437 17.782 45.0962 22.4408 46.5325 17.9402C47.97 13.4384 42.58 14.3307 42.58 14.3307C42.58 14.3307 46.8262 13.8561 45.89 11.3856C44.9537 8.91507 40.9425 6.34332 39.94 12.6044C39.94 12.6044 39.305 5.59913 34.4587 9.25425C29.6112 12.9094 37.0325 15.3115 37.0325 15.3115Z" fill="#FFCF00"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M39.125 11.5855C39.125 11.5855 34.6963 11.9716 34.9813 16.7936C35.2663 21.6144 45.5063 20.8436 44.8863 15.7811C44.2675 10.7186 39.125 11.5855 39.125 11.5855Z" fill="#AF6E58"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M38.9488 11.6362C38.9488 11.6362 34.8738 11.9905 35.1363 16.4266C35.3988 20.8626 44.8187 20.1526 44.2487 15.4963C43.6787 10.8388 38.9488 11.6362 38.9488 11.6362Z" fill="#B77A67"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M38.7625 12.3246C38.7625 12.3246 35.5563 12.6031 35.7625 16.0962C35.97 19.5868 43.3837 19.0287 42.9362 15.3621C42.4875 11.6969 38.7625 12.3246 38.7625 12.3246Z" fill="#BE8473"/>
                        <path fillRule="evenodd" clipRule="evenodd" d="M37.3575 13.8497C37.4284 13.8497 37.4965 13.8783 37.5467 13.9291C37.5968 13.9798 37.625 14.0487 37.625 14.1206C37.625 14.1924 37.5968 14.2613 37.5467 14.3121C37.4965 14.3629 37.4284 14.3914 37.3575 14.3914C37.2866 14.3914 37.2185 14.3629 37.1683 14.3121C37.1182 14.2613 37.09 14.1924 37.09 14.1206C37.09 14.0487 37.1182 13.9798 37.1683 13.9291C37.2185 13.8783 37.2866 13.8497 37.3575 13.8497ZM38.4475 13.103C38.5516 13.103 38.6514 13.1449 38.725 13.2194C38.7986 13.2939 38.84 13.395 38.84 13.5004C38.84 13.6058 38.7986 13.7069 38.725 13.7814C38.6514 13.856 38.5516 13.8978 38.4475 13.8978C38.3434 13.8978 38.2436 13.856 38.17 13.7814C38.0964 13.7069 38.055 13.6058 38.055 13.5004C38.055 13.395 38.0964 13.2939 38.17 13.2194C38.2436 13.1449 38.3434 13.103 38.4475 13.103ZM38.8637 14.6344C38.9171 14.6314 38.9704 14.6394 39.0206 14.6579C39.0708 14.6765 39.1167 14.7052 39.1555 14.7424C39.1943 14.7795 39.2252 14.8243 39.2464 14.8739C39.2675 14.9236 39.2784 14.9771 39.2784 15.0312C39.2784 15.0853 39.2675 15.1388 39.2464 15.1884C39.2252 15.2381 39.1943 15.2829 39.1555 15.32C39.1167 15.3572 39.0708 15.3859 39.0206 15.4044C38.9704 15.423 38.9171 15.431 38.8637 15.428C38.7597 15.428 38.6598 15.3861 38.5862 15.3116C38.5126 15.237 38.4712 15.136 38.4712 15.0306C38.4712 14.9252 38.5126 14.8241 38.5862 14.7495C38.6598 14.675 38.7597 14.6344 38.8637 14.6344ZM40.655 13.4156C40.7261 13.4156 40.7943 13.4442 40.8446 13.4951C40.8949 13.546 40.9231 13.6151 40.9231 13.6871C40.9231 13.7591 40.8949 13.8281 40.8446 13.8791C40.7943 13.93 40.7261 13.9586 40.655 13.9586C40.5839 13.9586 40.5157 13.93 40.4654 13.8791C40.4151 13.8281 40.3869 13.7591 40.3869 13.6871C40.3869 13.6151 40.4151 13.546 40.4654 13.4951C40.5157 13.4442 40.5839 13.4156 40.655 13.4156ZM39.625 13.8206C39.6537 13.8206 39.6822 13.8263 39.7087 13.8375C39.7353 13.8486 39.7594 13.8649 39.7797 13.8855C39.8 13.9061 39.8161 13.9305 39.8271 13.9573C39.8381 13.9842 39.8437 14.013 39.8437 14.0421C39.8437 14.0712 39.8381 14.1 39.8271 14.1269C39.8161 14.1537 39.8 14.1781 39.7797 14.1987C39.7594 14.2193 39.7353 14.2356 39.7087 14.2467C39.6822 14.2579 39.6537 14.2636 39.625 14.2636C39.567 14.2636 39.5113 14.2403 39.4703 14.1987C39.4293 14.1572 39.4062 14.1008 39.4062 14.0421C39.4062 13.9834 39.4293 13.927 39.4703 13.8855C39.5113 13.844 39.567 13.8206 39.625 13.8206ZM40.995 15.328C41.053 15.328 41.1087 15.3513 41.1497 15.3928C41.1907 15.4344 41.2137 15.4907 41.2137 15.5495C41.2137 15.6082 41.1907 15.6645 41.1497 15.7061C41.1087 15.7476 41.053 15.7709 40.995 15.7709C40.937 15.7709 40.8813 15.7476 40.8403 15.7061C40.7993 15.6645 40.7762 15.6082 40.7762 15.5495C40.7762 15.4907 40.7993 15.4344 40.8403 15.3928C40.8813 15.3513 40.937 15.328 40.995 15.328ZM37.8387 15.7013C37.8968 15.7013 37.9524 15.7247 37.9934 15.7662C38.0345 15.8077 38.0575 15.8641 38.0575 15.9228C38.0575 15.9816 38.0345 16.0379 37.9934 16.0794C37.9524 16.121 37.8968 16.1443 37.8387 16.1443C37.7807 16.1443 37.7251 16.121 37.6841 16.0794C37.643 16.0379 37.62 15.9816 37.62 15.9228C37.62 15.8641 37.643 15.8077 37.6841 15.7662C37.7251 15.7247 37.7807 15.7013 37.8387 15.7013ZM41.7137 14.0497C41.8178 14.0497 41.9177 14.0916 41.9913 14.1661C42.0649 14.2406 42.1063 14.3417 42.1063 14.4471C42.1063 14.5525 42.0649 14.6536 41.9913 14.7281C41.9177 14.8026 41.8178 14.8445 41.7137 14.8445C41.6096 14.8445 41.5098 14.8026 41.4362 14.7281C41.3626 14.6536 41.3212 14.5525 41.3212 14.4471C41.3212 14.3417 41.3626 14.2406 41.4362 14.1661C41.5098 14.0916 41.6096 14.0497 41.7137 14.0497ZM41.2563 16.5316C41.3274 16.5316 41.3956 16.5602 41.4458 16.6111C41.4961 16.662 41.5244 16.7311 41.5244 16.8031C41.5244 16.8751 41.4961 16.9441 41.4458 16.995C41.3956 17.0459 41.3274 17.0745 41.2563 17.0745C41.1851 17.0745 41.1169 17.0459 41.0667 16.995C41.0164 16.9441 40.9881 16.8751 40.9881 16.8031C40.9881 16.7311 41.0164 16.662 41.0667 16.6111C41.1169 16.5602 41.1851 16.5316 41.2563 16.5316ZM40.2262 16.9366C40.2843 16.9366 40.3399 16.9599 40.3809 17.0015C40.422 17.043 40.445 17.0993 40.445 17.1581C40.445 17.2168 40.422 17.2731 40.3809 17.3147C40.3399 17.3562 40.2843 17.3796 40.2262 17.3796C40.1682 17.3796 40.1126 17.3562 40.0716 17.3147C40.0305 17.2731 40.0075 17.2168 40.0075 17.1581C40.0075 17.0993 40.0305 17.043 40.0716 17.0015C40.1126 16.9599 40.1682 16.9366 40.2262 16.9366ZM36.595 15.7064C36.6659 15.7064 36.734 15.7349 36.7841 15.7857C36.8343 15.8365 36.8625 15.9054 36.8625 15.9772C36.8625 16.0491 36.8343 16.118 36.7841 16.1688C36.734 16.2196 36.6659 16.2481 36.595 16.2481C36.5241 16.2481 36.456 16.2196 36.4058 16.1688C36.3557 16.118 36.3275 16.0491 36.3275 15.9772C36.3275 15.9054 36.3557 15.8365 36.4058 15.7857C36.456 15.7349 36.5241 15.7064 36.595 15.7064ZM37.4288 16.6771C37.5328 16.6771 37.6327 16.719 37.7063 16.7935C37.7799 16.8681 37.8212 16.9691 37.8212 17.0745C37.8212 17.1799 37.7799 17.281 37.7063 17.3555C37.6327 17.4301 37.5328 17.4719 37.4288 17.4719C37.3247 17.4719 37.2248 17.4301 37.1512 17.3555C37.0776 17.281 37.0362 17.1799 37.0362 17.0745C37.0362 16.9691 37.0776 16.8681 37.1512 16.7935C37.2248 16.719 37.3247 16.6771 37.4288 16.6771ZM39.0837 16.3088C39.1205 16.3063 39.1574 16.3114 39.1921 16.3239C39.2268 16.3364 39.2586 16.356 39.2855 16.3815C39.3124 16.4069 39.3339 16.4377 39.3486 16.4719C39.3632 16.5061 39.3708 16.543 39.3708 16.5803C39.3708 16.6176 39.3632 16.6545 39.3486 16.6887C39.3339 16.7229 39.3124 16.7537 39.2855 16.7792C39.2586 16.8046 39.2268 16.8242 39.1921 16.8367C39.1574 16.8492 39.1205 16.8543 39.0837 16.8518C39.0125 16.8518 38.9441 16.8231 38.8937 16.7721C38.8433 16.7211 38.815 16.6518 38.815 16.5797C38.815 16.5075 38.8433 16.4383 38.8937 16.3873C38.9441 16.3362 39.0125 16.3088 39.0837 16.3088ZM40.1137 14.6888C40.1718 14.6888 40.2274 14.7122 40.2684 14.7537C40.3095 14.7952 40.3325 14.8516 40.3325 14.9103C40.3325 14.9691 40.3095 15.0254 40.2684 15.0669C40.2274 15.1085 40.1718 15.1318 40.1137 15.1318C40.0557 15.1318 40.0001 15.1085 39.9591 15.0669C39.918 15.0254 39.895 14.9691 39.895 14.9103C39.895 14.8516 39.918 14.7952 39.9591 14.7537C40.0001 14.7122 40.0557 14.6888 40.1137 14.6888ZM40.0537 15.919C40.1118 15.919 40.1674 15.9424 40.2084 15.9839C40.2495 16.0254 40.2725 16.0818 40.2725 16.1405C40.2725 16.1993 40.2495 16.2556 40.2084 16.2971C40.1674 16.3387 40.1118 16.362 40.0537 16.362C39.9957 16.362 39.9401 16.3387 39.8991 16.2971C39.858 16.2556 39.835 16.1993 39.835 16.1405C39.835 16.0818 39.858 16.0254 39.8991 15.9839C39.9401 15.9424 39.9957 15.919 40.0537 15.919ZM38.8062 17.4403C38.8641 17.4403 38.9196 17.4636 38.9605 17.505C39.0014 17.5464 39.0244 17.6026 39.0244 17.6612C39.0244 17.7197 39.0014 17.7759 38.9605 17.8173C38.9196 17.8587 38.8641 17.882 38.8062 17.882C38.7482 17.882 38.6926 17.8587 38.6516 17.8171C38.6105 17.7756 38.5875 17.7193 38.5875 17.6605C38.5875 17.6018 38.6105 17.5454 38.6516 17.5039C38.6926 17.4624 38.7482 17.4403 38.8062 17.4403ZM41.9812 15.4204C42.0393 15.4202 42.095 15.4434 42.1361 15.4848C42.1773 15.5262 42.2005 15.5825 42.2006 15.6412C42.2008 15.7 42.1779 15.7564 42.137 15.798C42.0961 15.8397 42.0405 15.8632 41.9825 15.8633C41.9245 15.8633 41.8688 15.84 41.8278 15.7985C41.7868 15.7569 41.7637 15.7006 41.7637 15.6419C41.7637 15.5831 41.7868 15.5268 41.8278 15.4852C41.8688 15.4437 41.9232 15.4204 41.9812 15.4204ZM39.5775 12.917C39.6355 12.917 39.6912 12.9403 39.7322 12.9818C39.7732 13.0234 39.7962 13.0797 39.7962 13.1384C39.7962 13.1972 39.7732 13.2535 39.7322 13.2951C39.6912 13.3366 39.6355 13.3599 39.5775 13.3599C39.5195 13.3599 39.4638 13.3366 39.4228 13.2951C39.3818 13.2535 39.3587 13.1972 39.3587 13.1384C39.3587 13.0797 39.3818 13.0234 39.4228 12.9818C39.4638 12.9403 39.5195 12.917 39.5775 12.917ZM37.0112 14.8281C37.0693 14.8281 37.1249 14.8514 37.1659 14.8929C37.207 14.9345 37.23 14.9908 37.23 15.0495C37.23 15.1083 37.207 15.1646 37.1659 15.2062C37.1249 15.2477 37.0693 15.271 37.0112 15.271C36.9532 15.271 36.8976 15.2477 36.8566 15.2062C36.8155 15.1646 36.7925 15.1083 36.7925 15.0495C36.7925 14.9908 36.8155 14.9345 36.8566 14.8929C36.8976 14.8514 36.9532 14.8281 37.0112 14.8281Z" fill="#B76753"/>
                        </svg>
                    </div>
                  <p className={classes.title}>Вы авторизованы под под именем {user?.data?.name}</p>
                  <div onClick={() => hendleLogOut()} className={classes.logOut}>
                    <button className={classes.btn}>
                        Выйти
                    </button>
                  </div>
              </div>
            </div>
          </div>
        )

}

export default User